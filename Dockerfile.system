# Используем легковесный образ
FROM alpine:latest

# Устанавливаем Node.js и npm
RUN apk add --no-cache nodejs npm && rm -rf /var/cache/apk/*

# Создаём пользователя и группу
RUN addgroup -S appgroup && adduser -S appuser -G appgroup

# Создаём /app и передаём права пользователю
RUN mkdir -p /app && chown -R appuser:appgroup /app

# Переключаемся на непривилегированного пользователя
USER appuser

CMD ["node", "--version"]

